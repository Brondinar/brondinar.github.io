"use strict";function _defineProperty(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}var getAge=function(){var e=new Date(1997,4,29),a=new Date;return Math.floor((a-e)/31536e6)};function handlerLinkClick(e){var a=e.data.orientation,n=$(".header-links__a_open"),t=$(e.target).closest(".nav-link").attr("href"),r=$(".header-links").find(".header-links__a[href='".concat(t,"']")),i=$(t);if(n.removeClass("header-links__a_open"),r.addClass("header-links__a_open"),"album"===a)$(".inner-card_open").removeClass("inner-card_open"),i.addClass("inner-card_open");else if("portrait"===a){var o=$("#main-card").offset().top,c=i.offset().top-o;window.scroll(0,c)}return!1}$().ready(function(){$(window).resize(function(){if($(".nav-link").off("click",handlerLinkClick),$(".scrollable-area").slimScroll({destroy:!0}),window.matchMedia("(min-width: 1024px)").matches?($(".scrollable-area").slimScroll({height:"100%"}),$(".nav-link").on("click",{orientation:"album"},handlerLinkClick)):window.matchMedia("(max-width: 1023px)").matches&&($(".modal-window .scrollable-area").slimScroll({height:"100%"}),$(".nav-link").on("click",{orientation:"portrait"},handlerLinkClick)),window.matchMedia("(max-width: 560px)").matches){var e=$(".root").width();$(".header").width(e)}else $(".header").attr("style","")}),$(window).trigger("resize"),$(".age__span").text(getAge()),$(".popup").click(function(e){if(e.target.closest(".popup")){var a=$(e.target.closest(".popup")).attr("href");return $(a).css("visibility","visible"),!1}}),$(".modal-close").click(function(e){$(e.target.closest(".modal")).css("visibility","hidden")}),$("#contact-form").validate({messages:{name:"",email:"",message:""}}),$(".contact-form__send").click(function(e){var a=$(e.target).closest(".contact-form");if(a.valid()){var n=a.serializeArray(),t={};$.each(n,function(e,a){Object.assign(t,_defineProperty({},a.name,a.value))}),t=JSON.stringify(t),$.ajax({url:a.attr("action"),type:a.attr("method"),contentType:"application/json",data:t,success:function(e){a[0].reset(),a.append('<p class="contact-form__response contact-form__response_success">\n            Сообщение успешно отправлено!</p>')},error:function(e){console.log(e),a.append('<p class="contact-form__response contact-form__response_error">\n            Не удалось отправить сообщение!</p>')},complete:function(){setTimeout(function(){a.find(".contact-form__response").remove()},5e3)}})}})});